// Lazyload Images
// https://github.com/aFarkas/lazysizes

window.lazySizesConfig = window.lazySizesConfig || {};
window.lazySizesConfig.loadMode = 1;
$("figure img, figure, .content-post figcaption, .video-player, iframe").addClass("lazyload");

// MQ
var mq = window.matchMedia('(min-width: 667px)');
		if(mq.matches) {
  		
	} else {  

}

// Overrides

$('.search-bar input[type="submit"]').removeAttr('class');

// jQuery
$(document).ready(function() {
jQuery(".hero-headline").fitText(1.75, { minFontSize: '24px', maxFontSize: '75px' });
// SVG fallback
if (!Modernizr.svg) {
	$("img[src$='.svg']")
    .attr("src", ".png");
}
// Slidebars v0.10.3 http://plugins.adchsm.me/slidebars/
$.slidebars();

// Flickity PACKAGED v1.1.0 http://flickity.metafizzy.co
$('.full-slider').flickity({
  // options
	  lazyLoad: true
	});
  // Tab Pager
  var $gallery = $('.tab-slider').flickity({
	  prevNextButtons: false
  });
	  $('.button-group').on( 'click', '.btn-txt', function() {
	    var index = $(this).index();
	    $gallery.flickity( 'select', index );    
  });
  // Mobile Nav
  var navigation = responsiveNav(".nav-collapse", {
    animate: true,                    // Boolean: Use CSS3 transitions, true or false
    transition: 500,                  // Integer: Speed of the transition, in milliseconds
    label: "Menu",                    // String: Label for the navigation toggle
    insert: "before",                  // String: Insert the toggle before or after the navigation
    customToggle: "",                 // Selector: Specify the ID of a custom toggle
    closeOnNavClick: true,           // Boolean: Close the navigation when one of the links are clicked
    openPos: "relative",              // String: Position of the opened nav, relative or static
    navClass: "nav-collapse",         // String: Default CSS class. If changed, you need to edit the CSS too!
    navActiveClass: "js-nav-active",  // String: Class that is added to <html> element when nav is active
    jsClass: "js-nav",                // String: 'JS enabled' class which is added to <html> element
    init: function(){},               // Function: Init callback
    open: function(){},               // Function: Open callback
    close: function(){}               // Function: Close callback
  });
  // Search Value Clear
    //For any clear-focus textbox
    $('input').each(function() {
    var default_value = this.placeholder;
    $(this).focus(function() {
        if (this.placeholder === default_value) {
            this.placeholder = '';
        }
    });
    $(this).blur(function() {
        if (this.placeholder === '') {
            this.placeholder = default_value;
        }
    });
  });
  // Tab Pager
  $(".btn-tab.events").click(function() {
	  $(".btn-tab.features , .btn-tab.dept").removeClass("active");
	  $(this).toggleClass("active");
		$(".tab-events").toggleClass("show");
		$(".tab-features, .tab-dept").removeClass("show");
		
	});
	$(".btn-tab.features").click(function() {
		$(".btn-tab.events , .btn-tab.dept").removeClass("active");
		$(this).toggleClass("active");
		$(".tab-features").toggleClass("show");
		$(".tab-events, .tab-dept").removeClass("show");
	});
	$(".btn-tab.dept").click(function() {
		$(".btn-tab.events , .btn-tab.features").removeClass("active");
		$(this).toggleClass("active");
		$(".tab-dept").toggleClass("show");
		$(".tab-events, .tab-features").removeClass("show");
	});
	$('.site-wrap').removeAttr('style');
});
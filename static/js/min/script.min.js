if(function(e,t){var n=t(e,e.document);e.lazySizes=n,"object"==typeof module&&module.exports&&(module.exports=n)}(window,function(e,t){"use strict";if(t.getElementsByClassName){var n,i=t.documentElement,a=e.Date,o=e.HTMLPictureElement,r="addEventListener",s="getAttribute",l=e[r],c=e.setTimeout,u=e.requestAnimationFrame||c,d=e.requestIdleCallback,f=/^picture$/i,m=["load","error","lazyincluded","_lazyloaded"],v={},g=Array.prototype.forEach,h=function(e,t){return v[t]||(v[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),v[t].test(e[s]("class")||"")&&v[t]},y=function(e,t){h(e,t)||e.setAttribute("class",(e[s]("class")||"").trim()+" "+t)},z=function(e,t){var n;(n=h(e,t))&&e.setAttribute("class",(e[s]("class")||"").replace(n," "))},p=function(e,t,n){var i=n?r:"removeEventListener";n&&p(e,t),m.forEach(function(n){e[i](n,t)})},C=function(e,n,i,a,o){var r=t.createEvent("CustomEvent");return r.initCustomEvent(n,!a,!o,i||{}),e.dispatchEvent(r),r},A=function(t,i){var a;!o&&(a=e.picturefill||n.pf)?a({reevaluate:!0,elements:[t]}):i&&i.src&&(t.src=i.src)},b=function(e,t){return(getComputedStyle(e,null)||{})[t]},E=function(e,t,i){for(i=i||e.offsetWidth;i<n.minSize&&t&&!e._lazysizesWidth;)i=t.offsetWidth,t=t.parentNode;return i},w=function(){var e,n,i=[],a=function(){var t;for(e=!0,n=!1;i.length;)t=i.shift(),t[0].apply(t[1],t[2]);e=!1};return function(o){e?o.apply(this,arguments):(i.push([o,this,arguments]),n||(n=!0,(t.hidden?c:u)(a)))}}(),N=function(e,t){return t?function(){w(e)}:function(){var t=this,n=arguments;w(function(){e.apply(t,n)})}},M=function(e){var t,n=0,i=999,o=i,r=function(){t=!1,n=a.now(),e()},s=d?function(){d(r,{timeout:o}),o!==i&&(o=i)}:N(function(){c(r)},!0);return function(e){var i;(e=!0===e)&&(o=66),t||(t=!0,i=125-(a.now()-n),0>i&&(i=0),e||9>i&&d?s():c(s,i))}},S=function(e){var t,n,i=99,o=function(){t=null,e()},r=function(){var e=a.now()-n;i>e?c(r,i-e):(d||o)(o)};return function(){n=a.now(),t||(t=c(r,i))}},k=function(){var o,u,d,m,v,E,k,B,_,x,L,P,R,T,q,F=/^img$/i,D=/^iframe$/i,O="onscroll"in e&&!/glebot/.test(navigator.userAgent),H=0,I=0,j=0,G=0,J=function(e){j--,e&&e.target&&p(e.target,J),(!e||0>j||!e.target)&&(j=0)},K=function(e,n){var a,o=e,r="hidden"==b(t.body,"visibility")||"hidden"!=b(e,"visibility");for(_-=n,P+=n,x-=n,L+=n;r&&(o=o.offsetParent)&&o!=t.body&&o!=i;)(r=(b(o,"opacity")||1)>0)&&"visible"!=b(o,"overflow")&&(a=o.getBoundingClientRect(),r=L>a.left&&x<a.right&&P>a.top-1&&_<a.bottom+1);return r},Q=function(){var e,t,a,r,l,c,f,m,g;if((v=n.loadMode)&&8>j&&(e=o.length)){t=0,G++,null==T&&("expand"in n||(n.expand=i.clientHeight>500?500:400),R=n.expand,T=R*n.expFactor),T>I&&1>j&&G>3&&v>2?(I=T,G=0):I=v>1&&G>2&&6>j?R:0;for(;e>t;t++)if(o[t]&&!o[t]._lazyRace)if(O)if((m=o[t][s]("data-expand"))&&(c=1*m)||(c=I),g!==c&&(k=innerWidth+c*q,B=innerHeight+c,f=-1*c,g=c),a=o[t].getBoundingClientRect(),(P=a.bottom)>=f&&(_=a.top)<=B&&(L=a.right)>=f*q&&(x=a.left)<=k&&(P||L||x||_)&&(d&&3>j&&!m&&(3>v||4>G)||K(o[t],c))){if(te(o[t]),l=!0,j>9)break}else!l&&d&&!r&&4>j&&4>G&&v>2&&(u[0]||n.preloadAfterLoad)&&(u[0]||!m&&(P||L||x||_||"auto"!=o[t][s](n.sizesAttr)))&&(r=u[0]||o[t]);else te(o[t]);r&&!l&&te(r)}},U=M(Q),V=function(e){y(e.target,n.loadedClass),z(e.target,n.loadingClass),p(e.target,Y)},X=N(V),Y=function(e){X({target:e.target})},$=function(e,t){try{e.contentWindow.location.replace(t)}catch(n){e.src=t}},Z=function(e){var t,i,a=e[s](n.srcsetAttr);(t=n.customMedia[e[s]("data-media")||e[s]("media")])&&e.setAttribute("media",t),a&&e.setAttribute("srcset",a),t&&(i=e.parentNode,i.insertBefore(e.cloneNode(),e),i.removeChild(e))},ee=N(function(e,t,i,a,o){var r,l,u,d,v,h;(v=C(e,"lazybeforeunveil",t)).defaultPrevented||(a&&(i?y(e,n.autosizesClass):e.setAttribute("sizes",a)),l=e[s](n.srcsetAttr),r=e[s](n.srcAttr),o&&(u=e.parentNode,d=u&&f.test(u.nodeName||"")),h=t.firesLoad||"src"in e&&(l||r||d),v={target:e},h&&(p(e,J,!0),clearTimeout(m),m=c(J,2500),y(e,n.loadingClass),p(e,Y,!0)),d&&g.call(u.getElementsByTagName("source"),Z),l?e.setAttribute("srcset",l):r&&!d&&(D.test(e.nodeName)?$(e,r):e.src=r),(l||d)&&A(e,{src:r})),w(function(){e._lazyRace&&delete e._lazyRace,z(e,n.lazyClass),(!h||e.complete)&&(h?J(v):j--,V(v))})}),te=function(e){var t,i=F.test(e.nodeName),a=i&&(e[s](n.sizesAttr)||e[s]("sizes")),o="auto"==a;(!o&&d||!i||!e.src&&!e.srcset||e.complete||h(e,n.errorClass))&&(t=C(e,"lazyunveilread").detail,o&&W.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,j++,ee(e,t,o,a,i))},ne=function(){if(!d){if(a.now()-E<999)return void c(ne,999);var e=S(function(){n.loadMode=3,U()});d=!0,n.loadMode=3,U(),l("scroll",function(){3==n.loadMode&&(n.loadMode=2),e()},!0)}};return{_:function(){E=a.now(),o=t.getElementsByClassName(n.lazyClass),u=t.getElementsByClassName(n.lazyClass+" "+n.preloadClass),q=n.hFac,l("scroll",U,!0),l("resize",U,!0),e.MutationObserver?new MutationObserver(U).observe(i,{childList:!0,subtree:!0,attributes:!0}):(i[r]("DOMNodeInserted",U,!0),i[r]("DOMAttrModified",U,!0),setInterval(U,999)),l("hashchange",U,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(e){t[r](e,U,!0)}),/d$|^c/.test(t.readyState)?ne():(l("load",ne),t[r]("DOMContentLoaded",U),c(ne,2e4)),U(o.length>0)},checkElems:U,unveil:te}}(),W=function(){var e,i=N(function(e,t,n,i){var a,o,r;if(e._lazysizesWidth=i,i+="px",e.setAttribute("sizes",i),f.test(t.nodeName||""))for(a=t.getElementsByTagName("source"),o=0,r=a.length;r>o;o++)a[o].setAttribute("sizes",i);n.detail.dataAttr||A(e,n.detail)}),a=function(e,t,n){var a,o=e.parentNode;o&&(n=E(e,o,n),a=C(e,"lazybeforesizes",{width:n,dataAttr:!!t}),a.defaultPrevented||(n=a.detail.width)&&n!==e._lazysizesWidth&&i(e,o,a,n))},o=function(){var t,n=e.length;if(n)for(t=0;n>t;t++)a(e[t])},r=S(o);return{_:function(){e=t.getElementsByClassName(n.autosizesClass),l("resize",r)},checkElems:r,updateElem:a}}(),B=function(){B.i||(B.i=!0,W._(),k._())};return function(){var t,i={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:0};n=e.lazySizesConfig||e.lazysizesConfig||{};for(t in i)t in n||(n[t]=i[t]);e.lazySizesConfig=n,c(function(){n.init&&B()})}(),{cfg:n,autoSizer:W,loader:k,init:B,uP:A,aC:y,rC:z,hC:h,fire:C,gW:E,rAF:w}}}),"serviceWorker"in navigator){navigator.serviceWorker.register("/sw.js").then(function(){console.log("ServiceWorker registration successful")}).catch(function(e){console.log("ServiceWorker registration failed: ",e)});var currentPath=window.location.pathname,cacheButton=document.querySelector(".offline-btn"),imageArray=document.querySelectorAll("img"),audioTrack=function(){return null!==document.querySelector("audio")?document.querySelector("audio source").src:void 0};cacheButton&&cacheButton.addEventListener("click",function(e){e.preventDefault();var t=[currentPath,audioTrack()];for(i=0;i<imageArray.length;i++)t.push(imageArray[i].src);caches.open("offline-"+currentPath).then(function(e){e.addAll(t).then(function(){console.log("Article is now available offline.")}).catch(function(e){console.log("Article could not be saved offline.")})})})}
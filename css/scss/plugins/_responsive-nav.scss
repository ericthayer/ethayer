/*! responsive-nav.js 1.0.39 by @viljamis */


.nav-collapse {
  max-height: 0;  
  overflow: hidden;  
}

.no-js .nav-collapse {
  overflow: visible;
  //max-height: 100%; 
}
/*

.nav-collapse.closed {
  &:before {
    background: transparent;
    box-shadow: none;
    color: #BBB;
    font-family: $font-icon;
	  font-size: 50px;
	  content: "";
	  text-shadow: none;
  }
}
*/

.nav-collapse ul {
  margin: 0;
  padding: 0;
  width: 100%;
  display: block;
  list-style: none;
}

.nav-collapse li {
  width: 100%;
  display: block;
}

.js-nav .nav-collapse {
  clip: rect(0 0 0 0);
  max-height: 0;
  right: 0; 	
  position: relative !important;
  display: block;
  overflow: hidden;
  zoom: 1;
}

.Gecko .js-nav .nav-collapse {
  position: relative !important;  
}

.nav-collapse.opened {
	margin-bottom: 0;
  max-height: 9999px;
  overflow-y: scroll;
}

/*
.js-nav .main-nav .nav-collapse-0.opened {
  max-height: 100% !important;  
}
*/

.nav-toggle {
  -webkit-tap-highlight-color: rgba(0,0,0,0);
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  -o-user-select: none;
  user-select: none;
}

// 768
  @media (min-width: $break-lg-phone) {
  .js-nav .nav-collapse {
    position: relative !important;
    overflow: visible;
  }
  .js-nav .nav-collapse.closed {
    max-height: none;
  }  
  .nav-toggle {
    display: none;
  }
}

/* ------------------------------------------
  NAVIGATION STYLES
  (+ responsive-nav.css file is loaded in the <head>)
--------------------------------------------- */

// Site Nav

.nav-collapse {
   align-self: center;
	 flex: 1 0 100%;
	 list-style: none;	
	 width: 100%;
	 ul {
	  list-style: none;
	  width: 100%;
	  float: left;
		li {
		  float: left;
		  width: 100%;
		  position: relative;
		  z-index: 1;
		  i {  
  		  &:before {
    		  margin-right: 0.5em;  
  		  }
		  }		
		  a {
			  color: #999;
			  font: 1.25em $Montserrat;
			  float: left;
			  padding: 0.35em 0.5em;	
			  width: 100%;
			  text-decoration: none;
			  text-transform: uppercase;
			  transition: color 400ms ease;
			}
			&:hover,
			&.active {
				a {
					color: $link;
				}
				>.submenu {
					display: block;
					display: none;  
					max-height: 999px;  
					flex-flow: row wrap;
					li {
						&:hover {
							a {
  							background-color: #DDD;
  							//color: #777;
								padding-left: 1.5em;
							}	
						}
					}	
				}
			}
			&.dropdown {
				> a {
/*
  				pointer-events: none;					
					&:after {
						content:"";
						font-family: $font-icon;
						font-size: 0.875em;	
						pointer-events: all;	
						padding-left: 0.625em;
						width: 0.938em;		
					}
*/
				}
			}	
		}
		// Submenu
	  .submenu {
  	  display: none;
  	  max-height: 0;     
		  overflow: hidden;
		  li {
			  a {  			  
  			  background-color: #EEE;
				  font-size: 1em;          
				  padding: 0.4em 0.5em;
				  text-transform: none;
				  transition: all 400ms ease;	
				}
			}
	  }	
	}
	// 480
	@media (min-width: $break-sm-phone) {
  	.submenu {
    	margin-left: 3.25em;
  	}
	}
	// 768
	@media (min-width: $break-lg-phone) {
		flex: 1;
		ul {
			float: right;	
			display: flex;
			position: relative;	
			width: auto;	
		  li {
		    width: auto;
		    &.nav-search,
		    &.location-link,
		    &.service-times,
		    &.soc-media-icons,
		    i {
  		    display: none;
		    }
				&.dropdown {
					> a {					
  					&:after {
  						content:"";
  						font-family: $font-icon;
  						font-size: 0.875em;	
  						// float: right;	
  						padding-left: 0.625em;
  						width: 0.938em;		
  					}
  				}
				}
			  a {
  			  background: none;
			    margin: 0;
			    padding: 0 0 0 1em;
			    float: left;
			    font-size: 0.875em;	
			    line-height: 1;	
			    text-align: center;
			    position: relative;	
			    z-index: 1001;	
			  }
			  &:hover {
					cursor: pointer;
					ul {
						display: block;
					}
					>.submenu {
  					display: flex;
						max-height: none;
						pointer-events: all;	
					}
					a {
						// color: $blue-light;
					}			
				}
				.submenu {
  				background: none;
  				display: block; 
				  position: absolute;
				  top: 0;
				  float: left;
				  left: 5px;
				  pointer-events: none;
				  padding-top: 30px;
				  width: 100%;
				  max-height: 100%;
				  min-width: 250px;
				  max-width: 400px;
				  z-index: 1000;
				  li {
					  display: block;
					  float: none;
					  width: 100%;				  
						a {	
							display: block;
							text-align: left;
							padding: 1em;
							visibility: visible;	
						}
						&:hover {
							a {
/*
								background: #EEE;
								color: $link;
								padding-left: 1em;
*/	
							}
						}
					}
			  }
		  }
	  }
	  // 900
	  @media (min-width: $break-900) {
  	  ul {
    	  li {
      	  a {
        	  font-size: 1em;
        	  padding-left: 1.25em;   
      	  }
    	  }
  	  }
	  }
	  // 1100
	  @media (min-width: 1100px) {
		  font-size: 1.15em;
		  padding-left: 1.5em;		
	  }
	  // 1200
	  @media (min-width: $break-lg-screen) {
		  ul {	
			  li {
				  a {	
				    padding-left: 2.25em;	
				  }
			  }
			}
	  }
	}
}

/* ------------------------------------------
  NAV TOGGLE STYLES
--------------------------------------------- */

.nav-toggle {
	align-self: center;
	border-radius: 4px;
  position: fixed;
  // -webkit-font-smoothing: antialiased;
  // -moz-osx-font-smoothing: grayscale;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  text-decoration: none;
  text-shadow: none;
  text-indent: -999px;
  padding: 0;
  position: relative;
  overflow: hidden;
  height: 50px;
  flex: 1 0 100%; 		
  // 320
  @media (min-width: $break-tiny-phone) {
	  flex: none;
	  width: 50px;	
  }	
}

.nav-toggle:before {
	background: #CCC;
	box-shadow: 0 -3px 0 rgba(black, 0.15) inset;
  color: white;
  font-family: $Montserrat;
  font-variant: normal;
  font-size: 1.5em;
  text-transform: none;
  position: absolute;
  content: "MENU";
  text-indent: 0;
  text-align: center;
  text-shadow: $blk-text-shadow;
  line-height: 50px;
  margin-left: 0;
  margin-bottom: 0; 	
  speak: none;
  width: 100%;
  top: 0;
  left: 0;
  transition: color 400ms ease, background 300ms ease;
  -webkit-font-smoothing: subpixel-antialiased;
  // 320
  @media (min-width: $break-tiny-phone) {
    background: transparent;
    box-shadow: none;
    color: #BBB;
    font-family: $font-icon;
	  font-size: 50px;
	  content: "";
	  text-shadow: none;	
  }
}

.nav-toggle.active {
  //padding: 0 0.5em;
  width: 50px;   
  &:before {
  	background: #EEE;
  	color: darkRed;
  	content:"";
  	font-family: $font-icon;
  	font-size: 1.5em; 
    line-height: 50px;
    height: 50px; 		
    text-shadow: none;
  }
}

.nav-toggle:hover {
	&:before {

	}
	 &.active:before {
	
  }
}
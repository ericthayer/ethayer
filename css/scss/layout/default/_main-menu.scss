// Main Navigation Styles

@keyframes nav-hover {
  0% {
    transform: translateX(-101%) translateY(-101%);
  }  
  100% {
    transform: translateX(0) translateY(0);
  }
}
@keyframes nav-hover-rev {
  0% {
    transform: translateX(0) translateY(0);
  }  
  100% {
    transform: translateX(101%) translateY(101%);
  }
}

.main-nav {
  @include flex;
  @include ai-center;
  margin-bottom: 0;
  ul {
    //background-color: #EBEBEB;
    @include flex;
    @include flex-grow-1;
    margin-bottom: 0;
    text-align: center;
    @media (max-width: 20em) {
      @include flex-wrap;
    }
    > li {
      //background-color: #EBEBEB;
      @include flex;
      @include ai-center;
      align-self: stretch;
      @include jc-center;
      @include flex-grow-1;
      margin-right: 0;  
      margin-left: 0;
      padding: 0;
      overflow: hidden;
      position: relative;
      transition: background-color .5s ease,
                  color .5s ease;
      z-index: 1;
      //width: 100%;
      -moz-osx-font-smoothing: greyscale;  
      -webkit-font-smoothing: none;
      @media (max-width: 20em) {
        flex-basis: 40%;
      }
      a {
        color: #FFF;
        @include fonts-loaded-KO29;
        font-size: 1.35rem;
        .fonts-loaded & {
          font-size: 1.45rem;
        }
        @include flex-grow-1;
        margin-right: 0;
        padding: 1.25rem 1rem;
        text-shadow: .05rem .05rem .03rem rgba(black, .2);
        &::after {
          background-color:rgba(#1e6c67, .95);
          background-color: rgba(black, .2);
          //background: linear-gradient(135deg, rgba(178,167,214,1) 0%,rgba(80,75,96,1) 100%);
          //background: #BBB;
          border-radius: 100%;
          content: "";
          opacity: 0;
          position: absolute;
          top: 0;
          left: 0;
          height: 100%;
          width: 100%;
          animation: nav-hover-rev .5s ease forwards;
          transition: border-radius .5s ease,
                      opacity .8s ease,
                      transform .3s ease;
          z-index: 0;
        }
        &:hover,
        &:focus {
          box-shadow: none;
          color: #FFF;
          &::after {        
            animation: nav-hover .5s ease forwards;
            border-radius: 0;
            opacity: 1;
            transform: none;
          }
        }
        span {
          position: relative;
          z-index: 1;
        }
      }
       &.active a {
        box-shadow: none;
        color: #FFF;
        &::after {        
          animation: nav-hover .5s ease forwards;
          border-radius: 0;
          opacity: 1;
          transform: none;
        }
      }
    }
  }
  // < 180
  @media (max-width: 11.25em) {
    > a {
      //border-bottom: 1px solid #CCC;
    }
  }
  // > 180 ~ 320
  @media (min-width: 11.25em) and (max-width: $break-tiny-phone) {
    > a { 
      &:nth-child(3),
      &:nth-child(4) {
        //border-top: 1px solid #CCC;
        //border-bottom: 1px solid #CCC;
      }
      &:nth-child(odd) {
        //border-right: 1px solid #CCC;
      } 
    }
  }
  // > 375
  @media (min-width: $break-tiny-phone) {
    flex-wrap: nowrap;
    ul > li {
      //border-right: 1px solid #CCC;
      //border-bottom: 1px solid #CCC; 
      //width: 25%;
      &:last-child {
        border-right: none;
      } 
    }
  }
  // > 667
  @media (min-width: $break-ml-phone) {
    align-items: stretch;
    justify-content: flex-end;  
    ul {
      flex-grow: 0;
    }
  }
 
  // > 768
  @media (min-width: $break-lg-phone) {
    ul > li {
      flex-grow: 0;
    }
  }
  // > 992
  @media (min-width: $break-md-screen) {
    ul > li a {
      padding: .5rem 1.5rem;
    }
  }
}